---
title: 【2018年3月】SICPを始めるためのScheme処理系準備メモ
tags:
  - Scheme
  - SICP
  - Racket
private: false
updated_at: '2023-08-09T11:47:41+09:00'
id: cb376033ccaf1e55c980
organization_url_name: null
slide: false
ignorePublish: true
---

Rails がメイン言語の会社で SICP 読書会を始めることになったので、参加者の敷居を下げるために Scheme 処理系の準備メモです。[^1]

[^1]: カッコが多い言語が好きな方は環境構築するのは苦ではないかもしれませんが...

# どの処理系にするか？

Scheme にはたくさんの処理系が存在していて[^2]、最初はちょっと迷いました。

が、Web で調べたり、自社で SICP 読書会をやってる @lagenorhynque さんのおすすめもあって、Racket を使うことにしました。

[^2]: [フムフムヌクヌクアプアアの表紙](https://www.oreilly.co.jp/books/9784873113487/)でおなじみの Gauche や GNU Guile、Chickin、MIT/GNU Scheme など、ちょっと調べるだけでもいっぱいあることがわかります。

## 選んだ理由

- mac だと homebrew で簡単にインストールできる（弊社のエンジニアは mac ユーザが大多数を占めているので）
- DrRacket という IDE もついてくるので簡単にインタラクティブな開発が体験できそう[^3]
- [SICP Collection](https://docs.racket-lang.org/sicp-manual/index.html) というものが用意されていて、素の Scheme だと大変なところがカバーされているらしい（※ 要出典）

[^3]: 今回は気軽に SICP 学習を進めるられることに重きをおいてます

# インストール

処理系のインストール

```console
$ brew cask install racket
```

SICP Collection パッケージのインストール

```cosole
$ raco pkg install sicp
```

DrRacket を立ち上げて、コードを入れて Run すると、ちゃんと動くことが確認できます。
これで安心して SICP 読書会を進められそうですね

```console
$ drracket
```

![Untitled_-_DrRacket_and_1__tmux___Users_fumitaka_tokumitsu_works_classi_video__tmux_.png](https://qiita-image-store.s3.amazonaws.com/0/13998/d8b6d764-aac8-a23c-66a7-c2fe50b7a3e4.png)

---

DrRacket 使わないよ〜という人向け情報

# ミニマムインストール

DrRacket 使わない（全部 console 上の REPL でやる or Emacs & geiger 使う）という人は、以下のように必要最低限インストールしてください。

```cosole
$ brew install minimal-racket
$ raco pkg install sicp
```

REPL を開くときに lang: sicp を指定すれば OK

```console
$ racket -I sicp
```

![1__racket___Users_fumitaka_tokumitsu__racket_.png](https://qiita-image-store.s3.amazonaws.com/0/13998/53e107ac-fafa-7a2d-9da7-15b65d4b0a79.png)

# 各種エディタと連携する

## Emacs

[geiser](https://github.com/jaor/geiser) を使うと Cider や Slime のような感じで開発ができるようになります。

use-package を使っている人は以下の設定を .emacs.d に追加してください

```elisp
(use-package geiser
  :config
  (setq geiser-active-implementations '(racket)))
```

その他のインストールは本家サイトをご確認ください
→ http://www.nongnu.org/geiser/geiser_2.html#Installation

※ minimal-racket だと mzlib/thread が無いといって怒られるかもしれないので、その場合は ↓ のパッケージを入れれば OK

```console
$ raco pkg install compatibility-lib
```

こんな感じ
![Pasted_Image_2018_03_20_19_49.png](https://qiita-image-store.s3.amazonaws.com/0/13998/3862ceff-6765-d263-5133-9dd6f09eb20d.png)

マクロ展開もできます
![image.png](https://qiita-image-store.s3.amazonaws.com/0/13998/6dc45e91-49b3-d563-1761-c5518db76d4c.png)

---

**注意**
Emacs 以外はは未検証なのでちょっと調べて見つけたリンクだけ張っておきます...
どなたか編集リクエストで教えていただけるとうれしいです

## Vim

- https://github.com/wlangstroth/vim-racket

## Atom

- https://atom.io/packages/atom-ide-racket
- https://atom.io/packages/language-racket

## VS Code

- https://marketplace.visualstudio.com/items?itemName=karyfoundation.racket
