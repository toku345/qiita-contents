---
title: '[WIP] お寿司屋マッピング'
tags:
  - Ruby
  - JavaScript
  - Sinatra
  - promise
  - GoogleMapsAPI
private: false
updated_at: '2023-08-09T11:47:41+09:00'
id: 9a823e1e4982b61c46e2
organization_url_name: null
slide: false
---

クラウドワークス Advent Calendar 2015 3 日目！
前 2 日は真面目な内容だったので、ここいら辺で **え？誰得？** なものをご紹介したいと思います。

# 作ったもの

その名も **[sushi_map](https://sushi-map.herokuapp.com/)** !!
（コードは [こちら](https://github.com/toku345/sushi_map)）

Retty さんの [築地のおすすめ寿司屋１５選](http://retty.me/area/PRE13/ARE2/SUB204/LCAT2/CAT30/topic/178/)で紹介されているお寿司屋さんの住所を Google Map 上にマッピングするというシンプルなアプリです。

# モチベーション

今週の日曜日に、知人（女性）と築地にお鮨を食べに行くことになる
↓
お昼は結構混んでいるという情報を入手（& 閉まっているお店も多いらしい、、、）
↓
美味しいお鮨を、なるべく並ばずに食べたい（相手の機嫌を損ねたくない！）
↓
超オイシイお店でもかなり並んでる場合は、近くの次に美味しそうなお店に素早く移動できるようにしよう！
↓
iPad mini でも確認できるものにしたい
↓
**エンジニアらしいところを見せて、次につなげたい**😆
（最悪、話のネタにでもなればよい）

# 所感

開始前は、一晩で片手間でできるだろうと高を括っていたのですが、~~下心のせいか~~ 細かい点でけっこう躓いてしまった。
（特に複数件の住所 → 緯度経度に変換した後にマップを表示させる箇所）

また実際に使ってみると、ちょっと微妙だなぁと。。。
（こんなんじゃ、話のネタにもならないかも 😩）

でも、X デーまでには若干猶予があるので、もうちょっといじってみます！

# 改善したい点

- [x] 店舗名を表示させる
- [x] 現在地をわかるようにする
- [ ] Retty 上の他のページのものをマッピングできるようにする
- [ ] 営業しているお店だけを表示させる
- [ ] 10 店舗以上マーカーを置けるようにする
      ※ 10 件を同タイミングで取得しにいこうとすると Google Maps Geocoding API の OVER_LIMIT_QUERY に引っかかってしまう

# 最後に

つっこみや、Google Maps Geocoding の制限に関してご教授頂けると涙がでるほど嬉しいです 😂
